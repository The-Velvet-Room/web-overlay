<!DOCTYPE html>
<html>
  <head>
    <title>{{title}}</title>
    <link rel='stylesheet' href='/stylesheets/overlays/umsk/game16by9.css' />
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
  	<div id="container">
  		<div id="title" class="playertext"></div>
  		<div id="lscore" class="playertext"></div>
  		<div id="lplayer" class="playertext"></div>
  		<div id="rplayer" class="playertext"></div>
  		<div id="rscore" class="playertext"></div>
  	</div>
    <script>
    $(function () {

      var socket = io('/overlay');

      socket.on('update overlay', function(data) {
        document.getElementById('title').innerText = data.title || "";
        document.getElementById('lplayer').innerText = data.lplayer || "";
        document.getElementById('rplayer').innerText = data.rplayer || "";
        document.getElementById('lscore').innerText = data.lscore || "";
        document.getElementById('rscore').innerText = data.rscore || "";

        if(data.lCharacter) {
          var leftIcon = document.createElement('img');
          leftIcon.id = 'leftCharacter';
          leftIcon.className = data.lCharacter;
          leftIcon.style.zoom = '200%';
          //src is required to remove the dumb border
          leftIcon.src = 'http://upload.wikimedia.org/wikipedia/commons/c/ce/Transparent.gif';
          document.getElementById('lplayer').appendChild(leftIcon);
        }

        if(data.rCharacter) {
          var rightIcon = document.createElement('img');
          rightIcon.id = 'rightCharacter';
          rightIcon.className = data.rCharacter;
          rightIcon.style.zoom = '200%';
          //src is required to remove the dumb border
          rightIcon.src = 'http://upload.wikimedia.org/wikipedia/commons/c/ce/Transparent.gif';
          document.getElementById('rplayer').appendChild(rightIcon);
        }

        console.log(data);
      });

    });
    </script>
  </body>
</html>
